---
title: 信息技术复习文档（一）：必备知识
tags:
  - 笔记
category:
  - 信息技术复习文档
---

本系列文档整理了信息技术课程中常用的模块文档。本文是系列的第一篇，包括阅读 Python 文档的必备知识。

<!-- more -->

# 函数

函数（function）表示一组特定的操作。在函数名后加 `()` 并在括号内传入参数，即可调用函数。

 - 对于无默认值的参数（位置参数），可以按序排列，无需指定参数名；
   - 或指定参数名，此时无需按序排列。
 - 对于有默认值的参数（必须在无默认值的参数之后，又称关键字参数），必须指定参数名。

若函数参数中出现 `/`，则不能通过参数名传入位置参数。

参数在函数内部称为形参，在函数外部称为实参。

---

有些参数在参数名前有 `*` 或 `**`。此时，传入的任何不符合其他参数的参数：

- 对于未指定名称的参数，将被作为一个列表传入。在函数内通过前有 `*` 的参数（通常为 `*args`）访问。
- 对于指定了名称的参数，将被作为一个字典传入。在函数内通过前有 `**` 的参数（通常为 `**kwargs`）访问。

这使得参数的个数可变。例如：

```py
def print_list(*args):
    print(args)  # 所有传入的参数将为作为一个列表处理
```

调用时：

```py
>>> print_list("a", "b", "c")
('a', 'b', 'c')

>>> print_list("a", "b", "c", "d")
("a", "b", "c", "d")
```

> 在 Python 文档中，常用 `>>>` 表示在 REPL 中的输入，其后为输出。

若函数参数中出现单独的 `*`，则函数不支持可变长度参数。

---

使用 `"""` 包裹的是可跨行的长字符串。函数文档（document）是位于函数签名（`def` 所在行自函数名至冒号前的部分）下一行的长字符串。函数文档在 IDE 中会在编写代码中使用函数时显示，并包含在 pydoc 自动生成的模块文档中。通常，函数文档中包含的内容有：

- 函数功能
- 参数（若有）及说明
- 返回值（若有）及说明

---

```py
def square(x: int) -> int:
    return x ** 2
```

在上面的函数签名中，参数名后的 `: int` 是参数的类型注解（type hint），指定 `x` 的类型，强制调用时传入的 `x` 属于指定类型（`int`）。

` -> int` 是返回值的类型注解，指示函数返回值的类型。对于此函数则为空（`int`）。

在 Python 中，类型注解是可选的，在可用时会由 IDE 自动推断。但无类型注解时可能会发生意外情况。例如，字符串和数字都能用 `+` 连接，当函数内进行两数相加时，若传入字符串，且无类型注解，那么可能会把两字符串连接，产生意外结果。因此可能时应添加类型注解。

当前的信息技术课程并未要求掌握定义函数，因此这里暂时只介绍函数签名。

---

有时在文档中会看见连续多个同名函数签名，这是函数的重载。调用此函数时，Python 会根据传入参数的数量和类型自动选择匹配的函数调用。

---

在调用函数时，若函数返回多个值，可将返回值赋值给多个变量（个数需与返回值的个数相等）。此时返回值会依次被赋值给各个变量。

在 `for` 循环中也可使用这一方法：

```py
def square(x: int) -> int:
    return x ** 2

def foreach(final: int) -> tuple[int]:
    res = []
    for x in range(1, final+1):
        res.append((x, x**2))
    return res

for x, square in foreach(9):
    print(x, "的平方是", square)  # 输出：1 的平方是 1……
```

# 类

类（class）是对一类事物的共同特征的抽象描述，类似于数学上使用描述法定义集合。我们用过的 `pandas` 库中的 `Series` 和 `DataFrame` 就是类。一个典型的类定义如下：

```py
class MyClass(Parent):
    ...
```

如上，类使用 `class` 关键字定义，类名紧随其后。冒号前可能有括号，其中为零到多个父类。

---

使用类创建对象的方法与调用函数相似：

```py
my_object = MyClass(...)
```

如上，在类名后加上括号，并在其中传入初始化参数，即可创建对象。其实创建对象的本质是在调用类的初始化方法。关于类内部的更多细节，信息技术课程并不要求学生掌握，读者若感兴趣，可移步本站文章《Python 进阶讲义（一）：基础知识》。

类签名指类的初始化方法的签名，但其中函数名由类名取代。在上方代码中即 `MyClass(...)`。

在类内部定义的函数称为类的方法，在类内部定义的变量称为类的属性。

调用方法和操作属性，需要在方法和属性名前以点记法指定类或对象，如下：

```py
class A:
    b = 1
    def a(self):
        ...

a = A()  # 创建对象
a.a()
print(a.b)  # 输出：1
```

---

函数和类是编程的重要基础概念。这些概念在信息技术课程中已有所涉及，但并未系统教授。若未掌握这些概念，在阅读本系列后续文档时会遇到巨大障碍。

# 文档格式

Python 文档具有固定的格式。掌握好文档格式，方能掌握自主学习 Python 的技能。

## 函数或方法

> ```py
> max(iterable, /, *, key=None)
> max(iterable, /, *, default, key=None)
> max(arg1, arg2, /, *args, key=None)
> ```
> 
> 返回可迭代对象中最大的元素，或者返回两个及以上实参中最大的。
> 
> 如果只提供了一个位置参数，它必须是非空 `iterable`，返回可迭代对象中最大的元素；如果提供了两个及以上的位置参数，则返回最大的位置参数。
> 
> 有两个可选只能用关键字的实参。`key` 实参指定排序函数用的参数，如传给 `list.sort()` 的。`default` 实参是当可迭代对象为空时返回的值。如果可迭代对象为空，并且没有给 `default` ，则会触发 `ValueError`。
> 
> 如果有多个最大元素，则此函数将返回第一个找到的。这和其他稳定排序工具如 `sorted(iterable, key=keyfunc, reverse=True)[0]` 和 `heapq.nlargest(1, iterable, key=keyfunc)` 保持一致。
> 
> {% note warning %}
> 在 3.4 版本发生变更: 增加了 `default` 仅限关键字形参。
> 
> 在 3.8 版本发生变更: `key` 可以为 `None`。
> {% endnote %}

以上是内置函数 `max` 的文档（[原文见此](https://docs.python.org/zh-cn/3/library/functions.html#max)）。从中可以看出函数文档的基本框架：

- 函数签名
- 函数主要功能
- 依次说明函数参数含义和要求
- 特殊情况下的行为
- 历史变更

## 类

类文档的基本框架：

- 类签名
- 类的主要功能简述
- 对初始化方法的描述（类似于函数文档）
- 类的属性、方法的逐一说明及历史变更

---

掌握文档格式后，读者即可阅读 [Python 中文文档](https://docs.python.org/zh-cn/)，学习更多内置函数、类、模块。信息技术考试要求掌握的模块将在本系列后续文档中说明。